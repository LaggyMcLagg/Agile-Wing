<?php

use Illuminate\Database\Seeder;
use App\CourseClass;

class HourBlockCourseClassSeeder extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {        
        // These schedule groups are used in the school, so a good test base.
        $timeGroups = [
            [
                ["08:15", "09:15"],
                ["09:15", "10:15"],
                ["10:25", "11:25"],
                ["11:25", "12:25"],
                ["13:15", "14:15"],
                ["14:15", "15:15"],
                ["15:25", "16:25"]
            ],
            [
                ["08:15", "09:15"],
                ["09:15", "10:15"],
                ["10:25", "11:25"],
                ["11:25", "12:25"],
                ["13:15", "14:15"],
                ["14:15", "15:15"],
                ["15:25", "16:25"]
            ],
            [
                ["08:30", "09:30"],
                ["09:40", "10:40"],
                ["10:40", "11:40"],
                ["12:30", "13:30"],
                ["13:30", "14:30"],
                ["14:40", "15:40"],
                ["15:40", "16:40"]
            ],
            [
                ["08:30", "09:30"],
                ["09:40", "10:40"],
                ["10:40", "11:40"],
                ["12:30", "13:30"],
                ["13:30", "14:30"],
                ["14:40", "15:40"],
                ["15:40", "16:40"]
            ],
            [
                ["08:30", "09:30"],
                ["09:40", "10:40"],
                ["10:40", "11:40"],
                ["12:30", "13:30"],
                ["13:30", "14:30"],
                ["14:40", "15:40"],
                ["15:40", "16:40"]
            ],
            [
                ["08:30", "09:30"],
                ["09:30", "10:30"],
                ["10:40", "11:40"],
                ["11:40", "12:40"],
                ["13:30", "14:30"],
                ["14:30", "15:30"]
            ],
            [
                ["08:30", "09:30"],
                ["09:40", "10:40"],
                ["10:40", "11:40"],
                ["12:45", "13:45"],
                ["13:45", "14:45"],
                ["14:55", "15:55"]
            ],
            [
                ["16:50", "17:50"],
                ["17:50", "18:50"],
                ["19:15", "20:15"],
                ["20:15", "21:15"],
                ["21:25", "22:25"],
                ["22:25", "23:25"]
            ],
            [
                ["16:50", "17:50"],
                ["17:50", "18:50"],
                ["18:50", "19:50"],
                ["20:15", "21:15"],
                ["21:15", "22:15"],
                ["22:25", "23:25"]
            ],
            [
                ["16:50", "17:50"],
                ["17:50", "18:50"],
                ["19:15", "20:15"],
                ["20:15", "21:15"],
                ["21:25", "22:25"],
                ["22:25", "23:25"]
            ],
            [
                ["19:10", "20:10"],
                ["20:10", "21:10"],
                ["21:25", "22:25"],
                ["22:25", "23:25"]
            ]
        ];
        

        $courseClasses = CourseClass::all();

        foreach ($courseClasses as $courseClass) {
            $randomGroupIndex = random_int(0, count($timeGroups) - 1);
            $selectedGroup = $timeGroups[$randomGroupIndex];
            
            foreach ($selectedGroup as $slot) {
                DB::table('hour_block_course_classes')->insert([
                    'course_class_id' => $courseClass->id,
                    'hour_beginning' => $slot[0],
                    'hour_end' => $slot[1],
                    'created_at' => now(),
                    'updated_at' => now()
                ]);
            }
        }
    }
}
